@page
@model iTech.Pages.EditorPlanPriceModel
@inject CRMDBContext _context

@{
    var planPrices = _context.WebEditorPlans.ToList();
    Layout = "Shared/Public/_PublicLayout.cshtml";
}
<style>
    .plan-price {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
    }

    .original-price {
        font-size: 0.9em; /* Make the original price smaller */

        margin-right: 10px; /* Add some spacing */
    }

    .discounted-price {
        text-decoration: line-through; /* Add strikethrough */
        color: red; /* Set color to red */
        font-size: 1.2em; /* Make the discounted price slightly larger */
        font-weight: bold; /* Add bold to the discounted price */
    }

</style>
<div role="main" class="main">
<section class="page-header page-header-modern page-header-background page-header-background-md overlay overlay-color-dark overlay-show overlay-op-7" style="background-image: url(/frontsite/img/page-header/page-header-about-us.jpg);">
    <div class="container">
        <div class="row mt-5">
            <div class="col-md-12 align-self-center p-static order-2 text-center">
                <h1 class="text-9 font-weight-bold">@sharedResource["Choose Plan"]</h1>

            </div>
            <div class="col-md-12 align-self-center order-1">
                <ul class="breadcrumb breadcrumb-light d-block text-center">
                    <li><a href="/Index">@sharedResource["Home"]</a></li>
                        <li class="active">@sharedResource["Editor Plan Price"]</li>
                </ul>
            </div>
        </div>
    </div>
</section>
@{
        if (planPrices != null)
        {
            <div class="container" id="PlanPrices">
                <div class="row pt-4 mt-5">
                    <div class="col-lg-12 text-center appear-animation animated fadeIn appear-animation-visible" data-appear-animation="fadeIn" data-appear-animation-delay="400" style="animation-delay: 400ms;">
                        <h2 class="font-weight-normal text-6 mb-5"><strong class="font-weight-extra-bold">@sharedResource["Our Prices"] </strong></h2>
                    </div>
                </div>
                 <form id="frmEPlan" method="post" class="needs-validation" novalidate="novalidate" onsubmit="return validateForm()">
                <div class="pricing-table mt-3 mb-5 pb-5" style="justify-content: center;">
                        <input hidden asp-for="@Model.UserSiteId" />
                        @{
                        if (planPrices != null)
                        {
                            @foreach (var item in planPrices)
                                {
                                    <input name="WebEditorPlanId" hidden asp-for="@item.WebEditorPlanId" />
                                <div class="col-12 col-lg-4 p-3">
                                    <div class="plan">
                                        
                                                <div class="plan-header" style="background-color:black;">

                                                @if (Model.BrowserCulture == "en-US")
                                                {
                                                        <h3>@item.TitleEn</h3>
                                                }
                                                else
                                                {
                                                        <h3>@item.TitleAr</h3>
                                                }
                                            </div>
                                        
                                      
                                        <div class="plan-price">

                                            @if (@item.PriceAfterDiscount > 0)
                                            {

                                                <span class="price">


                                                    <span class="original-price">@item.PriceAfterDiscount</span>&nbsp;<span class="price-unit">@sharedResource["KD"]</span>
                                                </span>
                                                <span class="discounted-price">

                                                    @item.Price &nbsp;                                                 <span class="price-unit">@sharedResource["KD"]</span>

                                                </span>


                                            }
                                            else
                                            {
                                                <span class="price">  @item.Price &nbsp;<span class="price-unit">@sharedResource["KD"]</span></span>

                                            }
                                            <label class="price-label">@sharedResource["PER YEAR"]</label>

                                        </div>
                                        <div class="plan-features">
                                            <ul>
                                                    @foreach(var pl in _context.PlansSpecs.Where(a => a.PlanId == item.WebEditorPlanId))
                                                    {
                                                        @if (Model.BrowserCulture == "en-US")
                                                        {
                                                            <li>@pl.TitleEn</li>

                                                        }
                                                        else
                                                        {
                                                            <li>@pl.TitleAr</li>

                                                        }

                                                    }
                                               

                                            </ul>
                                        </div>
                                        <div class="form-group col-lg-12" style="text-align:center;">
                                            <input type="submit" value=@sharedResource["Buy"] class="btn btn-dark btn-modern btn-outline rounded-0 py-2 px-4" data-loading-text="Loading...">
                                        </div>

                                    </div>
                                </div>
                            }
                        }
                    }

                </div>
                </form>
            </div>
        }

    }
</div>